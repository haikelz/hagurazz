@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply m-0 h-[50vh] scrollbar-thin scrollbar-track-gray-300 scrollbar-thumb-red;
    font-family: var(--font-ibm);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-grotesk);
  }

  .prose pre,
  pre code {
    font-family: var(--font-jetbrains);
  }

  button {
    @apply outline-none;
  }

  /* Shiki highlight code */
  code {
    counter-reset: line;
  }

  code > .line::before {
    counter-increment: line;
    content: counter(line);
    display: inline-block;
    width: 1rem;
    margin-right: 2rem;
    text-align: right;
    color: gray;
  }

  code[data-line-numbers-max-digits="2"] > .line::before {
    width: 2rem;
  }

  code[data-line-numbers-max-digits="3"] > .line::before {
    width: 3rem;
  }

  [data-rehype-pretty-code-title] {
    @apply rounded-t-sm bg-base2 px-4 py-2.5 font-medium text-gray-300;
    font-family: var(--font-jetbrains);
  }

  [data-rehype-pretty-code-title] + pre {
    @apply mt-0 rounded-t-none border-t-0;
  }
}

@layer components {
  /* 
   * So, i divide the gradient styles for text into 2 parts, light mode and dark mode. 
   * Why? Because i want to prevent issue "You cannot `@apply` the `dark:bg-green-700` utility here because it creates a circular dependency"
  */

  /* light mode */
  .gradient {
    @apply bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent;
  }

  /* dark mode */
  .gradient-dark {
    @apply bg-gradient-to-r from-blue-500 to-[#80D0C7] bg-clip-text text-transparent;
  }

  .shadow-smooth {
    box-shadow: 0px 0px 40px -23px rgba(0, 0, 0, 1);
    -webkit-box-shadow: 0px 0px 40px -23px rgba(0, 0, 0, 1);
    -moz-box-shadow: 0px 0px 40px -23px rgba(0, 0, 0, 1);
  }
}

@layer utilities {
  .prose img {
    @apply w-full rounded-sm;
  }

  .prose video {
    @apply rounded-sm shadow-md dark:shadow-gray-900;
  }
}

/* custom animation name */
@keyframes appear {
  from {
    opacity: 0;
    display: none;
  }

  to {
    opacity: 100;
    display: block;
  }
}

.opacity-animation-h {
  animation-name: appear;
  animation-duration: 1s;
  animation-timing-function: ease-in;
}

.opacity-animation-a {
  animation-name: appear;
  animation-duration: 1s;
  animation-delay: 1s;
  animation-timing-function: ease-in;
}

.opacity-animation-i {
  animation-name: appear;
  animation-duration: 1s;
  animation-delay: 2s;
  animation-timing-function: ease-in;
}

.opacity-animation-k {
  animation-name: appear;
  animation-duration: 1s;
  animation-delay: 3s;
  animation-timing-function: ease-in;
}

.opacity-animation-e {
  animation-name: appear;
  animation-duration: 1s;
  animation-delay: 4s;
  animation-timing-function: ease-in;
}

.opacity-animation-l {
  animation-name: appear;
  animation-duration: 1s;
  animation-delay: 5s;
  animation-timing-function: ease-in;
}
